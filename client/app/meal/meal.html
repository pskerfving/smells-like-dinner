<div ng-include="'components/navbar/navbar.html'"></div>

<div class="container" ng-controller="MealCtrl">
    <div class="row">
        <div class="col-md-12">
            <h1 ng-model="editMeal" ng-hide="editMeal" ng-click="editMeal = !editMeal">{{meal.name}}</h1>
            <h1 ng-model="editMeal" ng-show="editMeal"><form ng-submit="saveName()"><input type="text" ng-model="meal.name"></form></h1>
            <div>
                <ul class="list-group">
                    <li class="list-group-item clearfix"
                        ng-repeat="ingredient in meal.ingredients"
                        ng-drop="true" ng-drop-success="onDropComplete($index, $data,$event)">
                        <div>
                            <span ng-drag="true" ng-drag-data="day">{{ingredient.name}}</span>
                    <span class="pull-right">
                        <button class="btn btn-xs btn-warning" ng-click="removeIngredient($index)">
                            <span class="glyphicon glyphicon-remove"></span>
                        </button>
                    </span>
                        </div>
                    </li>
                </ul>
                <div class="input-group">
                    <input type="text" class="form-control" ng-model="newIngredient" placeholder="Ny ingredient">
                    <span class="input-group-btn">
                        <button class="btn btn-default" ng-click="addIngredient(newIngredient)" type="button"><span class="glyphicon glyphicon glyphicon-plus-sign"></span></button>
                    </span>
                </div><!-- /input-group -->


                <h4>Tillbehör</h4>
                <ul class="list-group">
                    <li class="list-group-item clearfix"
                        ng-repeat="side in meal.sides">
                        <div>
                            <span>{{side.name}}</span>
                    <span class="pull-right">
                        <button class="btn btn-xs btn-warning" ng-click="removeSide($index)">
                            <span class="glyphicon glyphicon-remove"></span>
                        </button>
                    </span>
                        </div>
                    </li>
                </ul>
                <div class="input-group">
                    <input type="text" class="form-control" ng-model="newSide" placeholder="Nytt tillbehör">
                    <span class="input-group-btn">
                        <button class="btn btn-default" ng-click="addSide(newSide)" type="button"><span class="glyphicon glyphicon glyphicon-plus-sign"></span></button>
                    </span>
                </div><!-- /input-group -->

            </div>
        </div>
    </div>
</div>
